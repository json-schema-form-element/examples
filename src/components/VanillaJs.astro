---

---

<article id="astro">
	<!-- You can set settings upfront from SSR -->
	<json-schema-form
		schema={JSON.stringify({
			type: 'object',
			properties: {
				foo: {
					type: 'string',
				},
				bar: {
					type: 'boolean',
				},
			},
		})}
		data={{
			foo: 'hello',
		}}
	>
	</json-schema-form>

	<pre id="debug">{JSON.stringify({ data: {} }, null, 2)}</pre>
</article>

<script>
	import '@jsfe/core';

	const astro = document.getElementById('astro')!;
	const form = astro.querySelector('json-schema-form')!;

	const debug = astro.querySelector('pre')!;

	console.log(form);

	form.schema = {
		/* Type-casted as JSONSchema7 */
		type: 'object',
		properties: {
			foo: {
				type: 'string',
			},
			bar: {
				type: 'boolean',
			},
		},
	};

	form.data = {
		foo: 'hello',
	};

	form.onDataChange = (data) => {
		console.log({ 'Data from Astro': data });
		debug.innerText = JSON.stringify({ data }, null, 2);
	};
	form.onSubmit = (data) => {
		console.log({ 'Submitted!': data });
	};
</script>
