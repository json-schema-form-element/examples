---
import type { FromSchema, JSONSchema7, UiSchema } from '@jsfe/core';

const mySchema = {
	type: 'object',
	properties: {
		foo: {
			type: 'string',
		},
		bar: {
			type: 'boolean',
		},
	},
} as const satisfies JSONSchema7;
type MyData = FromSchema<typeof mySchema>;

const dataInAstro: MyData = {
	foo: 'hello',
};

const uiSchema: UiSchema = {
	bar: {
		'ui:widget': 'switch',
	},
};
---

<article id="astro">
	<!-- You can set settings upfront from SSR -->
	<json-schema-form
		schema={JSON.stringify(mySchema)}
		uiSchema={JSON.stringify(uiSchema)}
		data={dataInAstro}
	>
	</json-schema-form>

	<pre id="debug">{JSON.stringify({ data: {} }, null, 2)}</pre>
</article>

<script>
	// Client only
	import './TypeScriptOnly.js';
</script>
